{"title":"GDM 登陆界面的 4K HiDPI 缩放设置","uid":"3c7e3175fda2515f5cce3979a5afb287","slug":"Ubuntu Ollama Docker 安装","date":"2024-07-16T05:23:40.156Z","updated":"2024-07-16T08:53:35.610Z","comments":true,"path":"api/articles/Ubuntu Ollama Docker 安装.json","keywords":null,"cover":null,"content":"<h1 id=\"1Panel-安装\"><a href=\"#1Panel-安装\" class=\"headerlink\" title=\"1Panel 安装\"></a>1Panel 安装</h1><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">curl -sSL https://resource.fit2cloud.com/1panel/package/quick_start.sh -o quick_start.sh &amp;&amp; sudo bash quick_start.sh</span><br></pre></td></tr></table></figure>\n\n<p>启用防火墙并开放 <code>11434</code> 端口</p>\n<h1 id=\"Ollama-安装\"><a href=\"#Ollama-安装\" class=\"headerlink\" title=\"Ollama 安装\"></a>Ollama 安装</h1><h2 id=\"Nvidia-GPU\"><a href=\"#Nvidia-GPU\" class=\"headerlink\" title=\"Nvidia GPU\"></a>Nvidia GPU</h2><h3 id=\"1-配置存储库\"><a href=\"#1-配置存储库\" class=\"headerlink\" title=\"1.配置存储库\"></a>1.配置存储库</h3><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">curl -fsSL https://nvidia.github.io/libnvidia-container/gpgkey \\</span><br><span class=\"line\">    | sudo gpg --dearmor -o /usr/share/keyrings/nvidia-container-toolkit-keyring.gpg</span><br><span class=\"line\">curl -s -L https://nvidia.github.io/libnvidia-container/stable/deb/nvidia-container-toolkit.list \\</span><br><span class=\"line\">    | sed &#x27;s#deb https://#deb [signed-by=/usr/share/keyrings/nvidia-container-toolkit-keyring.gpg] https://#g&#x27; \\</span><br><span class=\"line\">    | sudo tee /etc/apt/sources.list.d/nvidia-container-toolkit.list</span><br><span class=\"line\">sudo apt-get update</span><br></pre></td></tr></table></figure>\n\n<p>如果遇到网络问题，可能需要使用 <code>proxychains</code> 来进行代理</p>\n<p>2.安装 NVIDIA Container Toolkit 软件包</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo apt-get install -y nvidia-container-toolkit</span><br></pre></td></tr></table></figure>\n\n<p>3.配置 Docker 使用 Nvidia 驱动程序</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo nvidia-ctk runtime configure --runtime=docker</span><br><span class=\"line\">sudo systemctl restart docker</span><br></pre></td></tr></table></figure>\n\n<p>4.启动容器</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker run -d --gpus=all -v ollama:/root/.ollama -p 11434:11434 --name ollama ollama/ollama</span><br></pre></td></tr></table></figure>\n\n<p>5.设置自启动</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker update --restart=always &lt;container id&gt;</span><br></pre></td></tr></table></figure>\n\n<p>访问 <a href=\"http://127.0.0.1:11434/\">http://127.0.0.1:11434/</a> 显示 Ollama is running 即为安装成功</p>\n","feature":false,"text":"1Panel 安装1curl -sSL https://resource.fit2cloud.com/1panel/package/quick_start.sh...","permalink":"/post/Ubuntu Ollama Docker 安装","photos":[],"count_time":{"symbolsCount":"1.1k","symbolsTime":"1 mins."},"categories":[{"name":"AIGC","slug":"AIGC","count":1,"path":"api/categories/AIGC.json"}],"tags":[{"name":"Ubuntu","slug":"Ubuntu","count":3,"path":"api/tags/Ubuntu.json"},{"name":"Docker","slug":"Docker","count":1,"path":"api/tags/Docker.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#1Panel-%E5%AE%89%E8%A3%85\"><span class=\"toc-text\">1Panel 安装</span></a></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#Ollama-%E5%AE%89%E8%A3%85\"><span class=\"toc-text\">Ollama 安装</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#Nvidia-GPU\"><span class=\"toc-text\">Nvidia GPU</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#1-%E9%85%8D%E7%BD%AE%E5%AD%98%E5%82%A8%E5%BA%93\"><span class=\"toc-text\">1.配置存储库</span></a></li></ol></li></ol></li></ol>","author":{"name":"XARKUR","slug":"blog-author","avatar":"/static/img/logo.png","link":"/","description":"想做的太多，时间却太少<br/>Too much to do, but too little time","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{"x":{"icon":"/icons/x.svg","link":"https://x.com/iXARKUR"},"github":{"icon":"/icons/github.svg","link":"https://github.com/XARKUR"},"pinterest":{"icon":"/icons/pinterest.svg","link":"https://www.pinterest.com/ixarkur/"},"dribbble":{"icon":"/icons/dribbble.svg","link":"https://dribbble.com/XARKUR"},"codepen":{"icon":"/icons/codepen.svg","link":"https://codepen.io/XARKUR"}}}},"mapped":true,"hidden":false,"prev_post":{"title":"GDM 登陆界面的 4K HiDPI 缩放设置","uid":"3c7e3175fda2515f5cce3979a5afb287","slug":"Ubuntu ComfyUI 安装","date":"2024-07-16T05:31:41.817Z","updated":"2024-07-16T08:52:21.636Z","comments":true,"path":"api/articles/Ubuntu ComfyUI 安装.json","keywords":null,"cover":null,"text":"环境配置1.安装 Pyenv1curl https://pyenv.run | bash 2.添加环境配置并刷新 1234echo 'export PYENV_...","permalink":"/post/Ubuntu ComfyUI 安装","photos":[],"count_time":{"symbolsCount":"1.5k","symbolsTime":"1 mins."},"categories":[{"name":"Linux","slug":"Linux","count":2,"path":"api/categories/Linux.json"}],"tags":[{"name":"Ubuntu","slug":"Ubuntu","count":3,"path":"api/tags/Ubuntu.json"}],"author":{"name":"XARKUR","slug":"blog-author","avatar":"/static/img/logo.png","link":"/","description":"想做的太多，时间却太少<br/>Too much to do, but too little time","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{"x":{"icon":"/icons/x.svg","link":"https://x.com/iXARKUR"},"github":{"icon":"/icons/github.svg","link":"https://github.com/XARKUR"},"pinterest":{"icon":"/icons/pinterest.svg","link":"https://www.pinterest.com/ixarkur/"},"dribbble":{"icon":"/icons/dribbble.svg","link":"https://dribbble.com/XARKUR"},"codepen":{"icon":"/icons/codepen.svg","link":"https://codepen.io/XARKUR"}}}},"feature":false},"next_post":{"title":"GDM 登陆界面的 4K HiDPI 缩放设置","uid":"3c7e3175fda2515f5cce3979a5afb287","slug":"GDM 登陆界面的 4K HiDPI 缩放设置","date":"2024-07-16T05:20:56.914Z","updated":"2024-07-16T08:51:31.058Z","comments":true,"path":"api/articles/GDM 登陆界面的 4K HiDPI 缩放设置.json","keywords":null,"cover":null,"text":"使用 Gnome 桌面环境是 Linux 系统下比较省事的选择，搭配它的登陆界面软件是 GDM。在使用 4K 显示器时，我通常会把 Gnome 桌面的缩放设置为...","permalink":"/post/GDM 登陆界面的 4K HiDPI 缩放设置","photos":[],"count_time":{"symbolsCount":447,"symbolsTime":"1 mins."},"categories":[{"name":"Linux","slug":"Linux","count":2,"path":"api/categories/Linux.json"}],"tags":[{"name":"Ubuntu","slug":"Ubuntu","count":3,"path":"api/tags/Ubuntu.json"}],"author":{"name":"XARKUR","slug":"blog-author","avatar":"/static/img/logo.png","link":"/","description":"想做的太多，时间却太少<br/>Too much to do, but too little time","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{"x":{"icon":"/icons/x.svg","link":"https://x.com/iXARKUR"},"github":{"icon":"/icons/github.svg","link":"https://github.com/XARKUR"},"pinterest":{"icon":"/icons/pinterest.svg","link":"https://www.pinterest.com/ixarkur/"},"dribbble":{"icon":"/icons/dribbble.svg","link":"https://dribbble.com/XARKUR"},"codepen":{"icon":"/icons/codepen.svg","link":"https://codepen.io/XARKUR"}}}},"feature":false}}